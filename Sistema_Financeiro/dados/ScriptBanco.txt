
CREATE TABLE CAIXA (
    ID             INTEGER NOT NULL,
    NUMERO_DOC     VARCHAR(20),
    DESCRICAO      VARCHAR(200),
    VALOR          DECIMAL(18,2) NOT NULL,
    TIPO           CHAR(1) NOT NULL,
    DATA_CADASTRO  DATE NOT NULL,
    ORIGEM         VARCHAR(2) NOT NULL,
    ID_ORIGEM      INTEGER
);

CREATE TABLE CLIENTES (
    ID              INTEGER NOT NULL,
    NOME            VARCHAR(200) NOT NULL,
    TIPO            VARCHAR(1) NOT NULL,
    CPF             VARCHAR(11),
    CNPJ            VARCHAR(14),
    IE              VARCHAR(20),
    ENDERECO        VARCHAR(100),
    N_LOGRADOURO    VARCHAR(10),
    BAIRRO          VARCHAR(100),
    CIDADE          VARCHAR(100),
    ESTADO          VARCHAR(2),
    CEP             VARCHAR(10),
    CELULAR         VARCHAR(15),
    TELEFONE        VARCHAR(15),
    COMPLEMENTO     VARCHAR(100),
    EMAIL           VARCHAR(100),
    DATA_CADASTRO   TIMESTAMP NOT NULL,
    DATA_ALTERACAO  TIMESTAMP
);

CREATE TABLE CONTAS_PAGAR (
    ID               INTEGER NOT NULL,
    NUMERO_DOC       VARCHAR(20),
    DESCRICAO        VARCHAR(200),
    PARCELA          INTEGER NOT NULL,
    VALOR_PARCELA    DECIMAL(18,2) NOT NULL,
    VALOR_COMPRA     DECIMAL(18,2) NOT NULL,
    VALOR_ABATIDO    DECIMAL(18,2) NOT NULL,
    DATA_COMPRA      DATE NOT NULL,
    DATA_CADASTRO    DATE NOT NULL,
    DATA_VENCIMENTO  DATE NOT NULL,
    DATA_PAGAMENTO   DATE,
    STATUS           CHAR(1) NOT NULL,
    PARCIAL          VARCHAR(1) NOT NULL,
    CP_ORIGEM        INTEGER,
    ID_FORNECEDOR    INTEGER NOT NULL
);


CREATE TABLE CONTAS_PAGAR_DETALHE (
    ID              INTEGER NOT NULL,
    ID_CONTA_PAGAR  INTEGER NOT NULL,
    DETALHES        VARCHAR(200),
    VALOR           DECIMAL(18,2) NOT NULL,
    DATA            DATE NOT NULL,
    USUARIO         VARCHAR(200) NOT NULL
);


CREATE TABLE CONTAS_RECEBER (
    ID                INTEGER NOT NULL,
    NUMERO_DOCUMENTO  VARCHAR(20),
    DESCRICAO         VARCHAR(200),
    PARCELA           INTEGER NOT NULL,
    VALOR_PARCELA     DECIMAL(18,2) NOT NULL,
    VALOR_VENDA       DECIMAL(18,2) NOT NULL,
    VALOR_ABATIDO     NUMERIC(18,2) NOT NULL,
    DATA_VENDA        DATE NOT NULL,
    DATA_CADASTRO     DATE NOT NULL,
    DATA_VENCIMENTO   DATE NOT NULL,
    DATA_RECEBIMENTO  DATE,
    STATUS            CHAR(1) NOT NULL,
    PARCIAL           VARCHAR(1) NOT NULL,
    CR_ORIGEM         INTEGER,
    ID_CLIENTE        INTEGER NOT NULL
);

CREATE TABLE CONTAS_RECEBER_DETALHE (
    ID                INTEGER NOT NULL,
    ID_CONTA_RECEBER  INTEGER NOT NULL,
    DETALHES          VARCHAR(200),
    VALOR             DECIMAL(18,2) NOT NULL,
    DATA              DATE NOT NULL,
    USUARIO           VARCHAR(200) NOT NULL
);

CREATE TABLE USUARIOS (
    ID             INTEGER NOT NULL,
    NOME           VARCHAR(100) NOT NULL,
    LOGIN          VARCHAR(20) NOT NULL,
    SENHA          VARCHAR(60) NOT NULL,
    STATUS         CHAR(1) NOT NULL,
    DATA_CADASTRO  DATE NOT NULL,
    SENHA_TEMP     CHAR(1)
);

CREATE TABLE FORNECEDORES (
    ID              INTEGER NOT NULL,
    RAZAO_SOCIAL    VARCHAR(200) NOT NULL,
    TIPO            VARCHAR(1) NOT NULL,
    NOME_FANTASIA   VARCHAR(200),
    ENDERECO        VARCHAR(100),
    N_LOGRADOURO    VARCHAR(10),
    BAIRRO          VARCHAR(100),
    CIDADE          VARCHAR(100),
    ESTADO          VARCHAR(2),
    TELEFONE        VARCHAR(15),
    CELULAR         VARCHAR(15),
    EMAIL           VARCHAR(100),
    CPF             VARCHAR(11),
    CNPJ            VARCHAR(14),
    COMPLEMENTO     VARCHAR(100),
    DATA_CADASTRO   TIMESTAMP NOT NULL,
    DATA_ALTERACAO  TIMESTAMP,
    CEP             VARCHAR(10),
    IE              VARCHAR(20)
);

/******************************************************************************/
/***                              Primary Keys                              ***/
/******************************************************************************/

ALTER TABLE CAIXA ADD CONSTRAINT PK_CAIXA PRIMARY KEY (ID);
ALTER TABLE CONTAS_PAGAR ADD CONSTRAINT PK_CONTAS_PAGAR PRIMARY KEY (ID);
ALTER TABLE CONTAS_PAGAR_DETALHE ADD CONSTRAINT PK_CONTAS_PAGAR_DETALHE PRIMARY KEY (ID);
ALTER TABLE CONTAS_RECEBER ADD CONSTRAINT PK_CONTAS_RECEBER PRIMARY KEY (ID);
ALTER TABLE CONTAS_RECEBER_DETALHE ADD CONSTRAINT PK_CONTAS_RECEBER_DETALHE PRIMARY KEY (ID);
ALTER TABLE USUARIOS ADD CONSTRAINT PK_USUARIOS PRIMARY KEY (ID);
ALTER TABLE FORNECEDORES ADD CONSTRAINT PK_FORNECEDORES PRIMARY KEY (ID);
ALTER TABLE CLIENTES ADD CONSTRAINT PK_CLIENTES PRIMARY KEY (ID);

/******************************************************************************/
/***                              Foreign Keys                              ***/
/******************************************************************************/

ALTER TABLE CONTAS_RECEBER ADD CONSTRAINT FK_CR_CLIENTE FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTES (ID);
ALTER TABLE CONTAS_PAGAR ADD CONSTRAINT FK_CP_FORNECEDOR FOREIGN KEY (ID_FORNECEDOR) REFERENCES FORNECEDORES (ID);

